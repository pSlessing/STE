# Makefile
.PHONY: build-plugins clean-plugins

build-plugins:
	@echo "Building plugins..."
	@mkdir -p modules
	go build -buildmode=plugin -o modules/git.so modules/git/git.go
	go build -buildmode=plugin -o modules/docker.so modules/docker/docker.go
	@echo "Plugins built successfully!"

clean-plugins:
	rm -f modules/*.so

# Build everything
build: build-plugins
	go build -o ste main.go